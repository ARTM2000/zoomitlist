(this["webpackJsonpzoomit-no-ad"]=this["webpackJsonpzoomit-no-ad"]||[]).push([[3],{104:function(e,t,a){"use strict";a.r(t);var n=a(38),o=a(31),c=a(14),r=a(15),s=a(17),l=a(16),i=a(0),d=a.n(i),u=a(3),g=a(23),m=a.n(g),C=a(22),h=a(92),_=a.n(h),p=a(93),f=a.n(p),k=function(e){return e.loading?d.a.createElement("div",{className:f.a.Main_Loading}):d.a.createElement("div",{className:f.a.Main,onClick:e.addToSelected},d.a.createElement("span",{className:f.a.CatgName},e.name),d.a.createElement("span",{className:f.a.Count}," - ",e.count))},E=a(21),M=function(e){return window.addEventListener("resize",e.forceRender),d.a.createElement(E.a,{style:{direction:"rtl"}},d.a.createElement("h2",{className:_.a.Title,style:{color:e.darkMode?"white":"black"}},"\u067e\u0631\u0645\u062d\u062a\u0648\u0627\u062a\u0631\u06cc\u0646 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0647\u0627"),e.categories.length>0||e.selectedCategories.length>0?e.categories.map((function(t,a){return d.a.createElement(k,{key:a,name:t.name,count:t.count,darkMode:e.darkMode,addToSelected:function(){return e.onSelectCatgFunction(a)}})})):d.a.createElement(d.a.Fragment,null,d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0}),d.a.createElement(k,{loading:!0})))},S=a(94),y=a.n(S),v=a(95),b=a.n(v),I=function(e){return d.a.createElement("div",{className:b.a.Main,onClick:e.removeFromSelected,style:{color:e.darkMode?"white":"black"}},d.a.createElement("span",{className:b.a.Del},d.a.createElement("span",{className:b.a.Min})),d.a.createElement("span",{className:b.a.CatgName},e.name))},F=a(96),N=a.n(F),w=function(e){var t;switch(e.mode){case"normal":t=N.a.Normal;break;case"important":t=N.a.Important;break;case"lowImp":t=N.a.LowImp;break;default:t=""}return d.a.createElement("button",{className:t,onClick:e.clickFunction},e.children)},j=function(e){return d.a.createElement(d.a.Fragment,null,d.a.createElement(E.a,{style:{minHeight:"120px",direction:"rtl"}},d.a.createElement("div",{className:y.a.Heading},d.a.createElement("h2",{style:{color:e.darkMode?"white":"black"}},"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0647\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647"),e.selectedCatgs.length>0?d.a.createElement("div",{className:y.a.BtnContainer},d.a.createElement(w,{clickFunction:function(){e.onFindingContentFunction()},mode:"normal"},"\u0645\u0634\u0627\u0647\u062f\u0647")):null),0===e.selectedCatgs.length?d.a.createElement("p",{style:{color:e.darkMode?"#979797":"black"}},"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc (\u0647\u0627) \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u062e\u0648\u062f \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"):null,e.selectedCatgs.map((function(t,a){return d.a.createElement(I,{key:a,darkMode:e.darkMode,name:t.name,removeFromSelected:function(){return e.removeSelectedFunction(a)}})}))))},L=a(97),O=a.n(L),R=function(e){return d.a.createElement(E.a,{style:{direction:"rtl",position:"relative"}},d.a.createElement("div",{className:O.a.InputContainer,style:{borderBottom:"2px solid ".concat(e.darkMode?"#979797":"#6e6e6e"),color:e.darkMode?"white":"black"}},d.a.createElement("label",null,d.a.createElement("input",{type:"text",className:O.a.SearchInput,placeholder:"\u062c\u0633\u062a\u062c\u0648 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc...",value:e.query,onChange:e.getQueryFunction,autoFocus:!0,style:{color:e.darkMode?"white":"black"}}),e.query.length>0?d.a.createElement("div",{className:O.a.Clear,onClick:e.onBlurFunction},d.a.createElement("span",{className:O.a.Cross1}),d.a.createElement("span",{className:O.a.Cross2})):null),e.resultArray.length>0?d.a.createElement("div",{className:O.a.Result,style:{backgroundColor:e.darkMode?"#444444":"white"}},e.resultArray.map((function(t,a){return d.a.createElement("div",{className:e.darkMode?O.a.CatgItem_Dark:O.a.CatgItem_Light,key:a,onClick:function(){return e.addCatgsFunction(a)}},d.a.createElement("span",null,t.name," - "),d.a.createElement("span",null,t.count))}))):null))},x=a(90),G=a(98),H=a.n(G),Q=function(e){return d.a.createElement(d.a.Fragment,null,d.a.createElement(E.a,{style:{minHeight:"50px"}},d.a.createElement("div",{className:H.a.Container},d.a.createElement(w,{mode:"lowImp",clickFunction:e.backFunction},"\u0628\u0627\u0632\u06af\u0634\u062a"),d.a.createElement("br",null),e.selectedCatgs.map((function(t,a){return d.a.createElement(I,{name:t.name,darkMode:e.darkMode,removeFromSelected:function(){return e.removeFunction(a)}})})))))},T=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={categories:[],mostContentCatgs:[],mostContentCatgsBackup:[],listMode:!1,searchQuery:"",catgsSearchResult:[],selectedCategories:[],loadedPages:[],categoriesContent:[],page:1,count:1,cancelToken:null,addInContentMode:!1},e.onGetCategories=function(){m.a.get("https://zoomitlist.herokuapp.com/a/categories").then((function(e){return e.data})).then((function(t){var a=t.categories;return a=a.sort((function(e,t){return t.count-e.count})),e.setState({categories:a.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{index:t})})),mostContentCatgs:a.slice(0,18),mostContentCatgsBackup:a.slice(0,18)}),a})).catch((function(e){return console.log(e)}))},e.onSelectCategories=function(t){var a=Object(o.a)({},e.state.categories[t]);if(e.state.selectedCategories.findIndex((function(e){return e.name===a.name}))<0){var c=Object(n.a)(e.state.selectedCategories);c.push(a);var r=Object(n.a)(e.state.categories).filter((function(e){return e.name!==a.name}));if(r.sort((function(e,t){return t.count-e.count})),e.setState({selectedCategories:c,categories:r},(function(){e.state.catgsSearchResult!==[]&&e.onGetCatgSearchQuery(e.state.searchQuery)})),Object(n.a)(e.state.mostContentCatgsBackup).find((function(e){return e.name===a.name}))){var s=Object(n.a)(e.state.mostContentCatgs).filter((function(e){return e.name!==a.name}));e.setState({mostContentCatgs:s},(function(){e.state.catgsSearchResult!==[]&&e.onGetCatgSearchQuery(e.state.searchQuery)}))}}},e.onRemoveFromSelectedCatg=function(t){e.setState({page:1});var a=Object(o.a)({},e.state.selectedCategories[t]),c=Object(n.a)(e.state.selectedCategories).filter((function(e){return e.name!==a.name})),r=Object(n.a)(e.state.categories);if(r.splice(a.index,0,a),r.sort((function(e,t){return t.count-e.count})),0===c.length&&(e.state.cancelToken&&e.state.cancelToken(),e.setState({categoriesContent:[],page:1,loadedPages:[],listMode:!1})),0===c.length&&(e.state.cancelToken&&e.state.cancelToken(),e.setState({listMode:!1,categoriesContent:[],page:1,loadedPages:[]})),e.state.listMode&&0!==c.length&&(e.state.cancelToken(),e.setState({categoriesContent:[],page:1,loadedPages:[]},(function(){e.onGetContents()}))),e.setState({selectedCategories:c,categories:r},(function(){e.state.catgsSearchResult!==[]&&e.onGetCatgSearchQuery(e.state.searchQuery)})),Object(n.a)(e.state.mostContentCatgsBackup).findIndex((function(e){return e.name===a.name}))>-1){var s=Object(n.a)(e.state.mostContentCatgs);s.splice(a.index,0,a),s.sort((function(e,t){return t.count-e.count})),e.setState({mostContentCatgs:s},(function(){e.state.catgsSearchResult!==[]&&e.onGetCatgSearchQuery(e.state.searchQuery)}))}},e.onGetCatgSearchQuery=function(t){var a;a=t.target?t.target.value:t,e.setState({searchQuery:a});var o=a.split(""),c=!0;if(o.forEach((function(e){c="\\"===e||"/"===e?c&&!1:c&&!0})),""!==a&&c){var r=new RegExp(a,"i"),s=[];Object(n.a)(e.state.categories).forEach((function(e,t){r.test(e.name)&&s.push(e)})),e.setState({catgsSearchResult:s})}else e.setState({catgsSearchResult:[]})},e.addSelectedCatgsFromSearch=function(t){var a=Object(o.a)({},e.state.catgsSearchResult[t]),c=Object(n.a)(e.state.categories).findIndex((function(e){return e.name===a.name}));e.onSelectCategories(c),e.setState({catgsSearchResult:[],searchQuery:""})},e.onGetContents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.page;if(e.state.selectedCategories.length>0){e.setState({listMode:!0});var a=Object(n.a)(e.state.loadedPages),o=a.findIndex((function(e){return e===t}));-1===o&&(a[a.length]=t,e.setState({loadedPages:a},(function(){var a=Object(n.a)(e.state.selectedCategories).map((function(e){return e.name})).join("-");m.a.get("https://zoomitlist.herokuapp.com/s/content-catg?catg=".concat(a,"&page=").concat(t),{cancelToken:new m.a.CancelToken((function(t){return function(t){return e.setState({cancelToken:t})}(t)}))}).then((function(e){return e.data})).then((function(t){if(t.status)throw t;e.state.count<=t.count&&e.setState({count:t.count}),e.setState((function(e){return{categoriesContent:e.categoriesContent.concat(t.content),page:e.page+1}}))})).catch((function(e){console.log(e)}))})))}},e.onBackFunction=function(){e.state.cancelToken(),e.onGetCategories(),e.setState({selectedCategories:[],loadedPages:[],categoriesContent:[],page:1,count:1,listMode:!1})},e.onSearchInContent=function(){document.body.style.overflow="hidden",e.setState({addInContentMode:!0})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.onGetCategories()}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,this.state.listMode?d.a.createElement(d.a.Fragment,null,d.a.createElement(Q,{getQueryFunction:this.onGetCatgSearchQuery,addCatgsFunction:this.addSelectedCatgsFromSearch,onBlurFunction:function(){return e.setState({catgsSearchResult:[],searchQuery:""})},backFunction:this.onBackFunction,getContentFunction:function(){e.state.cancelToken&&e.state.cancelToken(),e.setState({page:1,count:1,loadedPages:[],categoriesContent:[],addInContentMode:!1},(function(){document.body.style.overflow="auto",e.onGetContents()}))},removeFunction:this.onRemoveFromSelectedCatg,onShowSearch:this.onSearchInContent,onBlurSearch:function(){return e.setState({addInContentMode:!1},(function(){return document.body.style.overflow="auto"}))},darkMode:this.props.darkMode,resultArray:this.state.catgsSearchResult,query:this.state.searchQuery,selectedCatgs:this.state.selectedCategories,shouldShowSearch:this.state.addInContentMode}),d.a.createElement(x.a,{loadMore:this.onGetContents,hotPosts:this.state.categoriesContent,postsCount:this.state.count,darkMode:this.props.darkMode,page:this.state.page})):d.a.createElement(d.a.Fragment,null,d.a.createElement(R,{getQueryFunction:this.onGetCatgSearchQuery,addCatgsFunction:this.addSelectedCatgsFromSearch,onBlurFunction:function(){return e.setState({catgsSearchResult:[],searchQuery:""})},darkMode:this.props.darkMode,resultArray:this.state.catgsSearchResult,query:this.state.searchQuery}),d.a.createElement(j,{removeSelectedFunction:this.onRemoveFromSelectedCatg,onFindingContentFunction:this.onGetContents,darkMode:this.props.darkMode,selectedCatgs:this.state.selectedCategories}),d.a.createElement(M,{onSelectCatgFunction:this.onSelectCategories,darkMode:this.props.darkMode,categories:this.state.mostContentCatgs,selectedCategories:this.state.selectedCategories})))}}]),a}(i.Component);t.default=Object(C.b)((function(e){return{darkMode:e.darkMode}}))(Object(u.f)(T))},90:function(e,t,a){"use strict";var n=a(0),o=a.n(n),c=a(37),r=a(19),s=a(21);t.a=function(e){return o.a.createElement(s.a,null,o.a.createElement(c.a,{dataLength:e.hotPosts.length,next:function(){e.loadMore(e.page),console.log("l 12")},loader:1===e.page?o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,{post:{},darkMode:e.darkMode,isLast:!0}),o.a.createElement(r.a,{post:{},darkMode:e.darkMode,isLast:!0}),o.a.createElement(r.a,{post:{},darkMode:e.darkMode,isLast:!0}),o.a.createElement(r.a,{post:{},darkMode:e.darkMode,isLast:!0}),o.a.createElement(r.a,{post:{},darkMode:e.darkMode,isLast:!0})):o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,{post:{},darkMode:e.darkMode,isLast:!0})),hasMore:e.hotPosts.length<e.postsCount},e.hotPosts.map((function(t,a){return o.a.createElement(r.a,{key:a,post:t,darkMode:e.darkMode,isLast:a===e.hotPosts.length-1})}))))}},92:function(e,t,a){e.exports={Main:"categoryList_Main__3EMmc",Title:"categoryList_Title__2MGlJ"}},93:function(e,t,a){e.exports={Main:"catgItem_Main__PK2pu",CatgName:"catgItem_CatgName__Y2Y1k",Main_Loading:"catgItem_Main_Loading__3tNwT",boxLoading:"catgItem_boxLoading__7H8Pa"}},94:function(e,t,a){e.exports={Main:"selectedCatgs_Main__1eoA6",Heading:"selectedCatgs_Heading__3z_dv",BtnContainer:"selectedCatgs_BtnContainer__-DJfl",ActionBtn:"selectedCatgs_ActionBtn__1MQyf",Divider:"selectedCatgs_Divider__13iUt"}},95:function(e,t,a){e.exports={Main:"selectedItem_Main__-x-8r",CatgName:"selectedItem_CatgName__W3IEj",Del:"selectedItem_Del__iGHAr",Min:"selectedItem_Min__3GCON"}},96:function(e,t,a){e.exports={Normal:"button_Normal__3juGA",Important:"button_Important__17Byy",LowImp:"button_LowImp__RAXk1"}},97:function(e,t,a){e.exports={Main:"searchCatgs_Main__35qOl",InputContainer:"searchCatgs_InputContainer__20sq5",SearchInput:"searchCatgs_SearchInput__2OcZ7",Clear:"searchCatgs_Clear__2590e",Cross1:"searchCatgs_Cross1__2LbtG",Cross2:"searchCatgs_Cross2__1J005",Result:"searchCatgs_Result__2oYl2",CatgItem_Light:"searchCatgs_CatgItem_Light__1dPfc",CatgItem_Dark:"searchCatgs_CatgItem_Dark__3Lop7"}},98:function(e,t,a){e.exports={Main:"catgsContentHead_Main__24Jh5",Container:"catgsContentHead_Container__1itFM",AddNewCatgBackDrop:"catgsContentHead_AddNewCatgBackDrop__3AnEx",AddNewCatg:"catgsContentHead_AddNewCatg__3uP-U",Holder:"catgsContentHead_Holder__34nje",InputContainer:"catgsContentHead_InputContainer__3mDK0",SearchInput:"catgsContentHead_SearchInput__dRuaQ",Clear:"catgsContentHead_Clear__181Ms",Cross1:"catgsContentHead_Cross1__3hwGZ",Cross2:"catgsContentHead_Cross2__1GHoY",Result:"catgsContentHead_Result__VGXzA",CatgItem_Light:"catgsContentHead_CatgItem_Light__2IZL1",CatgItem_Dark:"catgsContentHead_CatgItem_Dark__1TRhu"}}}]);
//# sourceMappingURL=3.b2acf337.chunk.js.map