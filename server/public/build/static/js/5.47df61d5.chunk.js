(this["webpackJsonpzoomit-no-ad"]=this["webpackJsonpzoomit-no-ad"]||[]).push([[5],{105:function(e,t,a){"use strict";a.r(t);var n=a(38),o=a(14),r=a(15),s=a(17),c=a(16),l=a(0),u=a.n(l),h=a(3),i=a(23),d=a.n(i),p=a(22),g=a(90),C=a(91),k=a.n(C),f=a(21),m=function(e){var t;e.showCount||(t=null),e.haveContent||(t="\u0646\u062a\u06cc\u062c\u0647 \u0627\u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f\u061b"),e.haveContent&&e.showCount&&(t=" ".concat(e.countOfContent," \u0645\u0637\u0644\u0628 \u06cc\u0627\u0641\u062a \u0634\u062f"));return u.a.createElement(f.a,{style:{direction:"rtl"}},u.a.createElement("div",{className:k.a.Container,style:{borderColor:e.darkMode?"white":"black"}},u.a.createElement("div",{className:k.a.Content},u.a.createElement("label",null,u.a.createElement("input",{type:"text",placeholder:e.lastQuery?decodeURI(e.lastQuery):"\u062c\u0633\u062a\u062c\u0648...",style:{color:e.darkMode?"white":"black"},onChange:e.onSetResearchValue,onKeyDown:function(t){"Enter"!==t.key&&13!==t.keyCode||e.onResearch()},value:e.searchQuery,autoFocus:!0}),""!==e.searchQuery&&e.searchQuery?u.a.createElement("div",{className:k.a.Clear,onClick:function(){return e.onSetResearchValue({target:{value:""}})}},u.a.createElement("span",{className:k.a.Cross1}),u.a.createElement("span",{className:k.a.Cross2})):null)),u.a.createElement("p",{className:k.a.Count,style:{color:e.darkMode?"white":"black"}},e.lastQuery?t:null),!e.haveContent&&e.lastQuery?u.a.createElement("p",{className:k.a.Count,style:{color:e.darkMode?"white":"black"}},"\u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0645\u06cc \u0634\u0648\u062f \u06a9\u0647 \u0627\u0632 \u06a9\u0644\u0645\u0627\u062a \u0647\u0645 \u0645\u0639\u0646\u06cc\u060c \u0645\u0634\u0627\u0628\u0647 \u06cc\u0627 \u0627\u06af\u0631 \u06a9\u0644\u0645\u0647 \u0644\u0627\u062a\u06cc\u0646 \u0627\u0633\u062a \u0627\u0632 \u0646\u0648\u0634\u062a\u0627\u0631 \u0627\u0635\u0644\u06cc \u0622\u0646 \u06cc\u0627 \u0628\u0644\u0639\u06a9\u0633 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f."):null))},y=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={searchQuery:"",changeableQuery:"",foundContent:[],count:1,page:1,loadedPage:[],haveContent:!0,onResearchValue:"",cancelToken:null},e.getContentBySearch=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.searchQuery,o=Object(n.a)(e.state.loadedPage),r=o.find((function(e){return e===t}));if(a){var s=a.trim();if(!r){o[o.length]=t,e.setState({loadedPage:o});var c=function(t){return e.setState({cancelToken:t})};d.a.get("https://zoomitlist.herokuapp.com/s/content?search=".concat(s,"&page=").concat(t),{cancelToken:new d.a.CancelToken((function(e){return c(e)}))}).then((function(e){return e.data})).then((function(t){if(t.status)return!1;t.count&&e.setState({count:t.count}),0===t.count&&e.setState({haveContent:!1});var a=Object(n.a)(e.state.foundContent);return e.setState({foundContent:a.concat(t.content)}),t.count})).then((function(t){t&&e.state.foundContent.length<e.state.count&&e.setState((function(e){return{page:e.page+1}}))})).catch((function(e){return console.log(e)}))}}else e.setState({haveContent:!1})},e.onGetResearchValue=function(t){return e.setState({changeableQuery:t.target.value})},e.onResearchingOnSearchPage=function(){var t=e.state.changeableQuery.trim();""!==t&&e.props.history.push("/search?q=".concat(t))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),this.state.cancelToken&&this.state.cancelToken();var t=this.props.location.search.split("=")[1];this.setState({searchQuery:t,changeableQuery:t?decodeURI(t):""},(function(){return e.getContentBySearch(e.state.page,e.state.searchQuery)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.location.search.split("=")[1];e.location.search.split("=")[1]!==t&&this.getContentBySearch(1,t)}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(m,{onSetResearchValue:this.onGetResearchValue,onResearch:this.onResearchingOnSearchPage,searchQuery:this.state.changeableQuery,lastQuery:this.state.searchQuery,countOfContent:this.state.count,showCount:this.state.foundContent.length>0,haveContent:this.state.haveContent,darkMode:this.props.darkMode}),this.state.haveContent?u.a.createElement(g.a,{hotPosts:this.state.foundContent,loadMore:this.getContentBySearch,postsCount:this.state.count,darkMode:this.props.darkMode,page:this.state.page}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.location.search.split("=")[1]!==t.searchQuery){t.cancelToken&&t.cancelToken();var a=e.location.search.split("=")[1];return{searchQuery:a,changeableQuery:a?decodeURI(a):"",page:1,foundContent:[],count:1,haveContent:!0,loadedPage:[]}}return null}}]),a}(l.Component);t.default=Object(p.b)((function(e){return{darkMode:e.darkMode}}))(Object(h.f)(y))},90:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(37),s=a(19),c=a(21);t.a=function(e){return o.a.createElement(c.a,null,o.a.createElement(r.a,{dataLength:e.hotPosts.length,next:function(){e.loadMore(e.page),console.log("l 12")},loader:1===e.page?o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{post:{},darkMode:e.darkMode,isLast:!0}),o.a.createElement(s.a,{post:{},darkMode:e.darkMode,isLast:!0}),o.a.createElement(s.a,{post:{},darkMode:e.darkMode,isLast:!0}),o.a.createElement(s.a,{post:{},darkMode:e.darkMode,isLast:!0}),o.a.createElement(s.a,{post:{},darkMode:e.darkMode,isLast:!0})):o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{post:{},darkMode:e.darkMode,isLast:!0})),hasMore:e.hotPosts.length<e.postsCount},e.hotPosts.map((function(t,a){return o.a.createElement(s.a,{key:a,post:t,darkMode:e.darkMode,isLast:a===e.hotPosts.length-1})}))))}},91:function(e,t,a){e.exports={Main:"searchPageHead_Main__An3-T",Main_NoContent:"searchPageHead_Main_NoContent__1uzFx",Container:"searchPageHead_Container__2iWPP",Count:"searchPageHead_Count__42OH7",Content:"searchPageHead_Content__31-SR",Clear:"searchPageHead_Clear__1zo2y",Cross1:"searchPageHead_Cross1__2K1fU",Cross2:"searchPageHead_Cross2__gcYUV"}}}]);
//# sourceMappingURL=5.47df61d5.chunk.js.map